<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Empty Seats Count</title>
</head>
<body>
    <h1>Empty Seats Count</h1>
    <p id="emptySeatsCount">Loading...</p>

    <script>
        // Function to fetch and update the empty seats count
        function updateEmptySeatsCount() {
            fetch('csv/empty_seats_data.csv')
                .then(response => response.text())
                .then(data => {
                    // Split CSV rows
                    const rows = data.split('\n');

                    // Get the last row and split by comma
                    const lastRow = rows[rows.length - 2]; // Assuming the last row is empty due to newline
                    const columns = lastRow.split(',');

                    // Get the last column (Empty Seats count)
                    const emptySeatsCount = columns[columns.length - 1];

                    // Update the HTML element
                    document.getElementById('emptySeatsCount').innerText = `Empty Seats count: ${emptySeatsCount}`;
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                });
        }

        // Call the function initially
        updateEmptySeatsCount();

        // Refresh the count every 5 seconds (adjust the interval as needed)
        setInterval(updateEmptySeatsCount, 5000);
    </script>
</body>
</html>
